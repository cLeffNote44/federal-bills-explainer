# =================================================================
# Federal Bills Explainer - Environment Configuration
# =================================================================
# IMPORTANT: Copy this file to .env and fill in the required values
# SECURITY: Never commit .env files to version control
# =================================================================

# -----------------------------------------------------------------
# Database Configuration (REQUIRED)
# -----------------------------------------------------------------
# PostgreSQL credentials - use strong passwords in production
# Generate secure password: openssl rand -base64 32
DB_USER=fbx_user
DB_PASSWORD=CHANGE_ME_TO_STRONG_PASSWORD
DB_NAME=federal_bills
DB_PORT=5432

# Full database URL (for applications)
DATABASE_URL=postgresql+psycopg://${DB_USER}:${DB_PASSWORD}@localhost:${DB_PORT}/${DB_NAME}
LOCAL_DATABASE_URL=postgresql+psycopg://${DB_USER}:${DB_PASSWORD}@localhost:${DB_PORT}/${DB_NAME}

# -----------------------------------------------------------------
# API Keys (REQUIRED)
# -----------------------------------------------------------------
# Get your Congress.gov API key from: https://api.congress.gov/sign-up/
CONGRESS_API_KEY=

# JWT secret for authentication (REQUIRED)
# Generate with: openssl rand -hex 32
JWT_SECRET_KEY=

# Admin token for admin endpoints (REQUIRED)
# Generate with: openssl rand -hex 32
ADMIN_TOKEN=

# OpenAI API key (OPTIONAL - for GPT-based explanations)
OPENAI_API_KEY=

# -----------------------------------------------------------------
# CORS Configuration
# -----------------------------------------------------------------
# Comma-separated list of allowed origins
# Development: http://localhost:3000,http://localhost:3001
# Production: https://your-domain.com
CORS_ORIGINS=http://localhost:3000,http://localhost:3001

# -----------------------------------------------------------------
# Redis Configuration (Optional)
# -----------------------------------------------------------------
REDIS_URL=redis://localhost:6379/0
REDIS_PORT=6379

# -----------------------------------------------------------------
# ML Model Configuration
# -----------------------------------------------------------------
# Embedding model for semantic search
EMBEDDING_MODEL=sentence-transformers/all-MiniLM-L6-v2

# Explanation generation model (choose one)
# Option 1: Google Flan-T5 (smaller, faster)
# Option 2: Microsoft Phi-3 (larger, more capable)
EXPLAIN_MODEL=microsoft/phi-3-mini-4k-instruct
# EXPLAIN_MODEL=google/flan-t5-base

# Hugging Face cache directory (optional)
HF_HOME=

# -----------------------------------------------------------------
# Frontend Configuration
# -----------------------------------------------------------------
# API base URL for frontend
# Development: http://localhost:8000
# Production: https://api.your-domain.com
NEXT_PUBLIC_API_BASE_URL=http://localhost:8000

# -----------------------------------------------------------------
# Application Mode
# -----------------------------------------------------------------
# Environment: development, staging, production
ENVIRONMENT=development

# Dry run mode (true = no database writes)
DRY_RUN=true

# Feature flags
EMBEDDINGS_ENABLED=false
EXPLANATIONS_ENABLED=false

# -----------------------------------------------------------------
# Ingestion Controls
# -----------------------------------------------------------------
# Limit number of bills to ingest (empty = no limit)
INGEST_LIMIT=

# Only ingest bills since this date (YYYY-MM-DD format)
INGEST_SINCE=

# -----------------------------------------------------------------
# API Server Configuration
# -----------------------------------------------------------------
API_PORT=8000
FRONTEND_PORT=3000

# -----------------------------------------------------------------
# pgAdmin Configuration (Optional - for database management GUI)
# -----------------------------------------------------------------
PGADMIN_EMAIL=admin@federalbills.local
PGADMIN_PASSWORD=CHANGE_ME_TO_STRONG_PASSWORD
PGADMIN_PORT=5050

# -----------------------------------------------------------------
# Monitoring & Logging
# -----------------------------------------------------------------
# Log level: DEBUG, INFO, WARNING, ERROR, CRITICAL
LOG_LEVEL=INFO

# Enable structured logging (JSON format)
STRUCTURED_LOGGING=false

# -----------------------------------------------------------------
# Security Settings
# -----------------------------------------------------------------
# Enable HTTPS redirect (production only)
FORCE_HTTPS=false

# Session timeout (seconds)
SESSION_TIMEOUT=3600

# Maximum request size (bytes)
MAX_REQUEST_SIZE=10485760

# =================================================================
# End of Configuration
# =================================================================
